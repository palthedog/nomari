# ゲーム理論と起き攻め

## 導入: 格闘ゲームは「高速じゃんけん」

格闘ゲーマーの間では、格闘ゲームを「高速じゃんけん」と表現することがあります。これは単なる比喩ではなく、ゲーム理論的に見ても本質を突いた表現です。

### じゃんけんと起き攻めの共通点：「同時手番」

じゃんけんと起き攻めには重要な共通点があります。それは**両者が同時に行動を決める**という点です。

- **じゃんけん**：「じゃんけん、ぽん！」で同時に手を出す。相手の手を見てから出すことはできない
- **起き攻め**：攻め側と守り側が**ほぼ同時に行動を選ぶ**。守り側は起き上がり時に行動を選び、攻め側も同タイミングで行動を選ぶ

この「同時に決める」という構造が重要です。もし相手の選択を見てから自分の行動を決められるなら、後から選ぶ側が圧倒的に有利になってしまいます。しかし起き攻めでは、お互いに相手の選択を知らないまま行動を決める必要があります。

### じゃんけんの最適戦略

普通のじゃんけんでの必勝法について考えたことがある人は多いかと思います。
結論から言うと、ゲーム理論的な最適戦略は「グー・チョキ・パーをそれぞれ1/3ずつ出すこと」です。なぜなら：

- もしグーを多く出す癖があると、相手はパーを多く出せば有利になる
- 自分の戦略が相手にバレてしまったとしても、相手はその情報を利用できない
- 言い換えると「**戦略がバレても確率的には絶対負けない戦略**」です
    - 消極的に聞こえるかもしれませんが、これは強力な性質です。相手がどんな天才でも、あなたの行動パターンを完璧に把握していても、期待値では負けないのです

### 格闘ゲームとの違い：「リターン差のあるじゃんけん」

ただし、格闘ゲームの「じゃんけん」は普通のじゃんけんとは大きく異なります。

普通のじゃんけんでは、グーで勝っても、チョキで勝っても、パーで勝っても「1勝」です。
しかし格闘ゲームでは：

- **投げが通れば1200ダメージ**だが、**打撃のカウンターヒットなら3000～4000ダメージ**
- **暴れが成功すれば反撃で1000ダメージ**だが、**暴れを潰されればフルコンボで4000ダメージ**

このように、**どの「手」で勝つかによって、得られる報酬（ダメージ）が全く違います**。これは「グリコじゃんけん」に近い構造です。

### グリコじゃんけん：リターン差のある勝負

グリコじゃんけんでは：
- グーで勝つと「グ・リ・コ」で3歩前進
- チョキで勝つと「チョ・コ・レ・イ・ト」で5歩前進
- パーで勝つと「パ・イ・ナ・ツ・プ・ル」で6歩前進

勝った手によって進める歩数が違うため、最適な比率も1/3ずつではなくなります。

**なるべくパーで勝ちたい** → でもパーばかり出していると相手がチョキを出してくる → じゃあチョキも混ぜないと... → でも相手もそれを読んでグーを...

このように、**リターンの大きい選択肢を多く選びたいが、それだけでは読まれてしまう**というジレンマが生まれます。

格闘ゲームの読み合いも、まさにこの構造を持っています。

---

## ゲーム理論の基礎概念

### 戦略的状況とは

ゲーム理論が扱うのは「**戦略的状況**」です。これは、**自分の結果が自分の行動だけでなく、相手の行動にも依存する**状況を指します。

シンプルな例を考えてみましょう：
- **パズルゲーム**：自分の行動だけで結果が決まる（戦略的状況ではない）
- **じゃんけん**：相手が何を出すかで自分の勝敗が変わる（戦略的状況！）
- **起き攻め**：相手が何を選ぶかで自分の行動の成否が変わる（戦略的状況！）

起き攻めはまさにこの戦略的状況です：
- 攻め側が投げを選び、守り側がガードを選べば → 投げが成功
- 攻め側が投げを選び、守り側が暴れを選べば → 暴れで投げを潰される

そして重要なのは、**両者が同時に選択する**ため、相手の選択を見てから対応することができない点です。

### ゲームの3要素

ゲーム理論で状況を分析するには、以下の3つを明確にします：

1. **プレイヤー**: 意思決定を行う主体（攻め側と守り側）
2. **行動（戦略）**: 各プレイヤーが選べる選択肢（打撃、投げ、ガード、暴れなど）
3. **利得（報酬）**: 行動の組み合わせに対して各プレイヤーが得る報酬（ダメージ、勝率の変化など）

### 利得行列：読み合いを表で整理する

これらの要素を表にまとめたものが**利得行列**です。以下は簡略化した起き攻めの例です：

|              | 守り側: ガード | 守り側: 暴れ |
|--------------|---------------|-------------|
| **攻め側: 打撃** | 0 / 0    | 4000 / -4000 |
| **攻め側: 投げ** | 1200 / -1200  | -1000 / 1000 |

**表の読み方**（左の数字が攻め側、右の数字が守り側）：
- 攻め側が打撃、守り側がガード → 攻め側0、守り側0（ガードされて何も起きない）
- 攻め側が打撃、守り側が暴れ → 攻め側+4000、守り側-4000（暴れをカウンターヒット！）
- 攻め側が投げ、守り側がガード → 攻め側+1200、守り側-1200（投げ成功）
- 攻め側が投げ、守り側が暴れ → 攻め側-1000、守り側+1000（投げを暴れで潰した）

この表を見れば、**どの行動の組み合わせでどちらがどれだけ得をするか**が一目でわかります。

---

## なぜ「最適な行動」が一つに決まらないのか

### じゃんけんの堂々巡り

上の利得行列を見ると、**どちらの行動が良いかは相手の行動次第**だとわかります。

攻め側の視点で考えると：
- 相手がガードするなら → 投げが良い（1200 > 0）
- 相手が暴れるなら → 打撃が良い（4000 > -1000）

しかし、守り側も同じように考えています：
- 相手が打撃を出すなら → ガードが良い（0 > -4000）
- 相手が投げを出すなら → 暴れが良い（1000 > -1200）

これは、じゃんけんで「グーが最強だ！」と思ってグーばかり出していると、相手がパーを出してくるのと同じ構造です。

**最強の行動を常に選ぶ → 相手がそれに対応する → 別の行動が最強になる → 相手がまた対応する → ...**

このように、お互いの最適行動が相手の行動に依存して**堂々巡り**になってしまいます。

### 「読み合い」の正体

では、どうすればいいのでしょうか？

「相手の行動を先読みして、それに勝てる行動を選べばいい」と思うかもしれません。
しかし、それには問題があります：
- 相手も同じように考えて、あなたの先読みをさらに読んでくる
- 読み合いに自信がないプレイヤーは常に不利になってしまう？
- 相手より頭が良くないと勝てない？

**実は、そうではありません。** ゲーム理論は、読み合いに頼らない「安全な戦略」を教えてくれます。

---

## ナッシュ均衡：「読まれても損しない」戦略

### 均衡の直感的な意味

**ナッシュ均衡**とは、「お互いに自分だけ行動を変えても得しない状態」のことです。

例えば、攻め側が「100%打撃を出す」と決めたとしましょう。相手がこれを知れば：
- 守り側は「100%ガード」を選ぶ（0ダメージで安全）

すると今度は攻め側が：
- 「じゃあ100%投げに変えよう」（1200ダメージ取れる！）

しかし守り側もこれを読めば：
- 「じゃあ100%暴れに変えよう」（投げを潰せる！）

すると攻め側は：
- 「じゃあまた100%打撃に...」

**この堂々巡りを止める方法が「混合戦略」です。**

### 混合戦略：「バラバラに混ぜる」ことの力

では、どうすれば「相手に読まれても損しない」状態になるでしょうか？

答えは**混合戦略**です。つまり、**複数の行動を特定の確率で混ぜて選ぶ**ことです。

じゃんけんの例で言えば：
- 「今回はグー！」と決め打ちするのではなく
- 「グーを1/3、チョキを1/3、パーを1/3の確率で出す」と決める

こうすることで：
- 相手があなたの「混ぜ方の比率」を完璧に知っていても
- 次に何が出るかは予測できない（ランダムなので）
- だから対策のしようがない

格闘ゲームでも同じです。「打撃と投げを適切な比率で混ぜる」ことで、相手に読まれても損しない戦略が作れます。

では、その「適切な比率」とは具体的にどれくらいなのでしょうか？ 実際に計算してみましょう。

---

## 起き攻めへの応用: 最適比率の計算

### 設定

先ほどの利得行列を使って、最適な混合比率を計算してみましょう。

|              | 守り側: ガード | 守り側: 暴れ |
|--------------|---------------|-------------|
| **攻め側: 打撃** | 0             | 4000        |
| **攻め側: 投げ** | 1200          | -1000       |

（簡略化のため、攻め側の利得のみを記載）

### 計算の考え方：「相手を困らせる」比率

ここで重要な考え方があります。

**ナッシュ均衡では、相手にとって「どの行動を選んでも同じ期待値」になるように混ぜる必要があります。**

なぜでしょうか？ もし相手にとって「この行動の方が明らかに得」という選択肢があれば、相手はその行動ばかり選んでしまいます。すると、こちらがそれに対応する行動を増やせば...と、また堂々巡りになってしまいます。

相手を本当に困らせるには、**相手にとってどの選択肢も同じくらい魅力的にする**必要があります。そうすれば、相手は何を選んでも期待値が同じなので、こちらの行動を予測して対応することができません。

### 守り側の最適比率を求める

守り側がガードを確率 q、暴れを確率 (1-q) で選ぶとします。

攻め側から見て：
- 打撃を選んだときの期待値：`E(打撃) = 0 × q + 4000 × (1-q) = 4000 - 4000q`
- 投げを選んだときの期待値：`E(投げ) = 1200 × q + (-1000) × (1-q) = 2200q - 1000`

攻め側にとって「どちらを選んでも同じ」にするため、E(打撃) = E(投げ) とすると：

```
4000 - 4000q = 2200q - 1000
5000 = 6200q
q ≈ 0.806 (約81%)
```

つまり、**守り側は約81%でガード、約19%で暴れ**を選ぶのが最適です。

**直感的な理解**：打撃のリターン（4000）が大きいので、守り側はそれに対応するガードを多めに選ぶ必要があります。

### 攻め側の最適比率を求める

同様に、攻め側が打撃を確率 p、投げを確率 (1-p) で選ぶとします。

守り側から見て（損失を最小化する視点）：
- ガードを選んだときの期待値：`E(ガード) = 0 × p + (-1200) × (1-p) = -1200 + 1200p`
- 暴れを選んだときの期待値：`E(暴れ) = -4000 × p + 1000 × (1-p) = 1000 - 5000p`

守り側にとって「どちらを選んでも同じ」にするため、E(ガード) = E(暴れ) とすると：

```
-1200 + 1200p = 1000 - 5000p
6200p = 2200
p ≈ 0.355 (約35%)
```

つまり、**攻め側は約35%で打撃、約65%で投げ**を選ぶのが最適です。

**直感的な理解**：打撃は暴れに読まれると何も得られませんが、通れば4000という大ダメージ。投げは安定して1200取れますが、暴れに負けると-1000。このリスク・リターンのバランスから、安定した投げを多めに選ぶことになります。

### 結果のまとめ

| プレイヤー | 行動   | 最適確率 | 期待値 |
|-----------|--------|----------|--------|
| 攻め側    | 打撃   | 約35%    | 約775  |
| 攻め側    | 投げ   | 約65%    | 約775  |
| 守り側    | ガード | 約81%    | 約-775 |
| 守り側    | 暴れ   | 約19%    | 約-775 |

期待値が等しくなっていることに注目してください。これがナッシュ均衡の特徴です。

### なぜこの比率なのか

計算を振り返ると、重要なことに気づきます。均衡では **E(打撃) = E(投げ)** という条件を使いました。

つまり、**混合戦略のナッシュ均衡では、相手にとって混ぜている各行動の期待値が等しくなります**。

なぜでしょうか？ もし相手にとって「ある行動の期待値が他より高い」状態なら、相手はその行動だけを選んだ方が得になってしまいます。すると、こちらがそれに対応する行動を増やせば...と、また不安定な状態に戻ってしまいます。

均衡では、**どの行動を選んでも相手の期待値が同じになるように、自分がちょうど良い確率で行動を混ぜている**のです。これによって：
- 相手は「どれを選んでも同じ」なので、予測しても意味がない
- 自分の戦略がバレても、相手は対応のしようがない

これが「読まれても損しない戦略」の正体です。

---

## ダメージ差が比率を決める：直感的な理解

### 重要な洞察

上の計算から、興味深いことがわかります：

**1. リターンが大きい行動ほど、相手はそれへの対応を多く選ぶ**

- 打撃のリターン（4000）は投げのリターン（1200）より大きい
- → 守り側はガード（打撃への対応）を81%と多く選ぶ
- → 逆に言えば、**高火力技を持つことで、相手にガードを強制できる**

**2. リスクが大きい行動ほど、自分はその行動を少なく選ぶ**

- 打撃は暴れに読まれると0ダメージで何も得られない
- 投げは1200取れるし、暴れに負けても-1000で済む
- → 攻め側は安定している投げを65%と多めに選ぶ

**3. 「バランスの悪いじゃんけん」ほど面白い**

もし打撃も投げも同じダメージ（例えば両方1000）だったら：
- 最適比率は50%ずつになる
- 普通のじゃんけんと同じで、戦略的な深みが減る

リターン差があるからこそ、「この状況なら投げを多めに」「でも暴れを読んだら打撃で大ダメージ」という駆け引きが生まれます。

### 実践への示唆：上達のヒント

この分析から得られる実践的な知見：

**1. 高ダメージ技を持つほど有利**
   - 打撃のダメージが上がれば、相手はさらにガードを増やさざるを得ない
   - すると投げの成功率が相対的に上がる
   - **強いキャラは「リターン差が激しいじゃんけん」を仕掛けられる**

**2. 「読まれても良い」比率が存在する**
   - ナッシュ均衡の比率で行動すれば、相手に戦略がバレても期待値は変わらない
   - 「何を出すか見抜かれた！」と焦る必要はない。**どれが出るかはランダムなので**
   - むしろ大事なのは「混ぜる比率」の方

**3. 相手の偏りを見抜けば搾取できる**
   - 相手が「暴れが多い」と気づいたら → 打撃を増やせば期待値が上がる
   - 相手が「ガードばかり」と気づいたら → 投げを増やせば期待値が上がる
   - ただし、相手もあなたの偏りを突いてくる可能性がある
   - **上手い人ほど、相手の癖を素早く見抜いて対応を変えられる**

**4. プレッシャーの正体**
   - 「起き攻めが強い」とは、単に高ダメージコンボができることではない
   - **複数の選択肢のリターン差が大きい**ことが本質
   - だから相手は「どれか一つに絞る」ことができず、混ぜざるを得ない

---

## まとめ: 読み合いの本質

格闘ゲームの読み合いは、ゲーム理論における**混合戦略のナッシュ均衡**として理解できます。

### キーポイント

**1. 起き攻めは「同時手番のゲーム」**
   - じゃんけんと同じく、両者が同時に行動を選ぶ
   - 相手の選択を見てから対応することはできない
   - だから「読み合い」が発生する

**2. 格闘ゲームは「リターン差のあるじゃんけん」**
   - 普通のじゃんけんと違い、勝ち方によってダメージ（報酬）が異なる
   - そのため、最適な行動比率も均等ではない
   - リターンが大きい選択肢ほど、相手はそれへの対応を多く選ぶ

**3. ナッシュ均衡は「読まれても損しない」戦略**
   - 均衡比率で混ぜれば、相手がどんな行動を選んでも期待値は同じ
   - 相手も同様に混ぜているので、こちらもどの行動を選んでも期待値は同じ
   - 「戦略がバレても大丈夫」な安全な戦い方

**4. 「混ぜる」ことの本質**
   - 単に「いろんな技を使う」だけでは不十分
   - 重要なのは**リターンとリスクに応じた適切な比率**
   - 高リターン技を持つほど、相手に対応を強制できる

**5. 均衡からの逸脱は搾取のチャンス**
   - 相手の癖や傾向（偏り）を見抜けば、均衡から外れて期待値を上げられる
   - ただし、それは相手にも同じことが言える
   - 上級者の戦いは「相手の偏りを突きつつ、自分の偏りを悟られない」駆け引き

---

## 補足: より複雑な状況へ

### 実戦はもっと複雑

実際の格闘ゲームでは、この2択の例よりもはるかに複雑です：

- **3択以上の状況**：打撃、投げ、暴れだけでなく、バックジャンプ、バクステ、無敵技など
- **ファジー行動**：複数の選択肢に同時に対応できる行動（例：ファジーガード）
- **位置やタイミングの要素**：起き攻めの重ね方、間合い管理
- **リソースの消費**：ゲージ、体力などの状態依存
- **非線形なリターン**：体力が減ると戦略が変わる

しかし、基本的な考え方は同じです。

### Mari-chan 起き攻め計算機 について

「Mari-chan 起き攻め計算機」では、より複雑な状況を定義することで、各状況におけるナッシュ均衡の戦略を計算することができます。

- 複数の選択肢（3択、4択...）にも対応
- ファジー行動（複数選択肢に同時対応）の定義
- 各行動のダメージやリスクを細かく設定可能

**使い方のコツ**：
- 最初は2択から始めて、徐々に選択肢を増やす
- 実戦で「このパターンよく見るな」という状況を定義してみる
- 計算結果の比率を覚えるより、「なぜその比率なのか」の感覚をつかむことが大事

### より深く学びたい方へ

ゲーム理論についてもっと知りたい方には、以下がおすすめです：

- **初心者向け**：「ゲーム理論入門」系の書籍やYouTube動画
  - 囚人のジレンマ、チキンゲーム、協調ゲームなど様々な例
  - 経済学の文脈で説明されることが多いが、考え方は同じ
  
- **格闘ゲーム特化**：プロゲーマーの解説動画
  - 「フレーム理論」「確反」「ハイリスク・ハイリターン」などの用語
  - これらは全てゲーム理論的な思考の実践例

- **数学的に厳密に学ぶ**：大学レベルのゲーム理論教科書
  - ナッシュ均衡の存在定理、支配戦略、部分ゲーム完全均衡など
  - より複雑な状況の分析手法

---

**重要な心構え**：
ゲーム理論を学ぶ目的は「最適解を丸暗記すること」ではありません。
**「なぜこの行動が有効なのか」を論理的に理解し、状況に応じて自分で考えられるようになること**が目標です。

実戦では計算通りにいかないことも多いですが、この「考え方の枠組み」を持っていることで：
- 対戦相手の傾向をより早く見抜ける
- 自分の戦略を客観的に評価できる
- 新しいキャラや新しい状況にも応用できる

理論と実践、両方を楽しんでください！

---

[← 目次に戻る](./index.md)
