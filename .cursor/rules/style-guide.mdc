---
alwaysApply: true
---

# Style Guide

## assert の利用
- 通常ケースでのエラーハンドリングは例外ではなくなるべくエラーを return するようにしてください。
- 例外ケースのエッジケースの確認は assert を使うようにしてください
- 例外ケースを適当なデフォルトバリューを返してハンドリングするような関数は絶対に書かないでください。

## ブロックサイズ

人間があまり大きくない画面で開発していても読みやすいコードになるように意識してください。
1つのブロックは1画面(50行程度）に収まるのが理想です。
関数のブロックも意味のある単位でなるべく関数名という形で名前をつけて、処理を細かく分けてください。
`if`や`for`などのブロックでは特に大事です。
50行というのは目安であり、強制するものではありません。50行みまんにするために、意味の無い単位で関数を区切るようなことは行わないでください。

### ブロックのネストを深くしない
常にブロックのネストをなるべく浅くする努力をおこなってください。ネストは浅ければ浅いほどいいです。4を超えるネストはどうしても避けられない場合を除いて必ず避けてください。

### インナー関数を避ける
必要無い時はインナー関数を使わないでください

### "Early Return"パターンを積極的に採用してください。
```
// GOOD!
function example(var) {
  if (!conditionCheck(var)) {
    return;
  }
  // process `var`...
  // ...
}
```

```
// BAD!
function example(var) {
  if (conditionCheck(var)) {
    // process `var`...
    // ...
  }
}
```
これは "for loop" 等についても同様です。for の中で条件を満たさない場合は `continue` を呼び出しましょう。
```
// GOOD!
for(let var in array) {
  if (!conditionCheck(var)) {
    continue;
  }
  // process `var`...
  // ...
}
```

```
// BAD!
for(let var in array) {
  if (conditionCheck(var)) {
    // process `var`...
    // ...
  }
}
```

## 長いブロックを避けて
`if` や `for` のブロックが長くなると読みにくいので、意味のある単位(意味のある名前がつけられる単位）で処理を抜き出し、別の関数として定義する努力をしてください。
```
// BAD!
if (cond) {
  // Do something
  // ...
  // loooong logic

  // Do another thing
  // ...
  // loooong logid
}
```
代わりに
```
// GOOD!
if (cond) {
  doSomething();
  doAnotherThing();
}
```
これは `doSomething`や`doAnotherThing`が他に全く再利用されていない（1箇所からしか使われていない）としてもよいです。
