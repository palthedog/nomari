# Street Fighter 6 Game Mechanics

このドキュメントはNomari GTOソルバーの開発において、ストリートファイター6のゲームメカニクスを理解するための参考資料です。

---

## 1. ゲーム概要

- 1対1の格闘ゲーム
- 1ラウンド開始時に両者フルリソース
- 相手の体力を0にするか、タイムアップ時に体力が多い方が勝利
- 通常は2本先取（Best of 3 Rounds）

---

## 2. リソースシステム

### 2.1 体力 (Health/Vitality)

| 項目 | 値 |
|-----|---|
| 標準体力 | 10,000 |
| 高体力キャラ | 10,500（E. Honda, Marisa） |

**チップダメージ（削りダメージ）:**
- **通常時**: 特殊技・必殺技をガードしても体力は減らない（仮ダメージは発生）
- **バーンアウト時**: 必殺技・Super Artをガードするとチップダメージ発生
- **KO**: Critical Art のみチップダメージでKO可能

### 2.2 ドライブゲージ (Drive Gauge)

SF6の最重要リソース。攻守両方に使用する。

| 項目 | 値 |
|-----|---|
| 初期値 | 6バー（60,000ポイント） |
| ラウンド間 | 毎ラウンド6バーにリセット |

**回復:**
- 時間経過で自然回復（攻撃中・ガード中は停止）
- 前歩き: 回復速度UP（約7秒早く回復）
- 攻撃ヒット: 回復速度UP
- ジャンプ: 回復速度DOWN（-50%）

**消費要因:**
- ドライブ技の使用
- 相手の攻撃をガード
- 相手のドライブ技を受ける
- Super Artの使用

### 2.3 Super Art ゲージ (SA Gauge)

| レベル | 消費バー | Drive消費 | 最低スケーリング |
|-------|---------|----------|----------------|
| SA1 | 1バー | 0.5バー | 30% |
| SA2 | 2バー | 1バー | 40% |
| SA3 | 3バー | 1.5バー | 50% |
| Critical Art | 3バー | 2バー | 50% |

**Critical Art**: 体力が一定以下になるとSA3がCritical Artに変化し、威力が上昇する。

---

## 3. ドライブシステム

SF6の核となるシステム。5つの技がある。

### 3.1 Drive Impact (DI)

| 項目 | 値 |
|-----|---|
| コスト | 1バー |
| 発生 | 26F |
| アーマー | 2ヒット分 |

**特徴:**
- アーマー付きの強攻撃
- ヒット時: +35F有利
- コーナーでヒット/ガード → **Wall Splat**（+65F〜+72F有利）
- バーンアウト中の相手にコーナーでDI → **確定スタン**

### 3.2 Drive Parry

| 項目 | 値 |
|-----|---|
| コスト | なし（成功で回復） |
| 持続中 | 全ての攻撃を受け流す |

**特徴:**
- Perfect Parry: 攻撃直前にパリィすると大きな反撃チャンス
- Perfect Parry後のコンボは50%スケーリングから開始
- 投げには無効

### 3.3 Drive Rush

| 発動条件 | コスト |
|---------|-------|
| Parryから | 1バー |
| 通常技キャンセル | 3バー |

**特徴:**
- 前方ダッシュ
- 次の通常技に+4F有利ボーナス
- キャンセル版は×0.85のダメージスケーリング適用

### 3.4 Drive Reversal

| 項目 | 値 |
|-----|---|
| コスト | 2バー |
| 発動条件 | ガード中 |

**特徴:**
- ガード中に反撃
- コンボには繋がらないが状況リセット
- ガードされると不利

### 3.5 Overdrive (OD)

| 項目 | 値 |
|-----|---|
| コスト | 2バー |
| 効果 | 必殺技の強化版 |

**特徴:**
- 従来のEX技に相当
- ダメージ・性能が向上
- 一部の技は追加のプロパティを得る

---

## 4. バーンアウト状態 (Burnout)

ドライブゲージが0になると発生する**非常に危険な状態**。

### デメリット

| 項目 | 効果 |
|-----|-----|
| ドライブ技 | 使用不可 |
| ガード硬直 | +4F（通常より長い） |
| チップダメージ | 必殺技・Super Artで発生 |
| コーナーDI | 確定スタン（抜け出し不可） |

### 復帰

| 方法 | 時間 |
|-----|-----|
| 通常復帰 | 約17〜20秒 |
| スタンからの復帰 | ゲージ全回復 |

**復帰を早める行動:**
- 前歩き
- 攻撃をヒットさせる
- 相手のSuper Artを受ける（アニメーション中に回復）

---

## 5. ダメージスケーリング

### 基本スケーリング

コンボ中のダメージは段階的に減少する:

| ヒット数 | スケーリング |
|---------|------------|
| 1 | 100% |
| 2 | 90% |
| 3 | 80% |
| 4 | 70% |
| 5 | 60% |
| 6+ | 50%〜 |

### 特殊スケーリング

| 状況 | 開始スケーリング |
|-----|----------------|
| Perfect Parry後 | 50%から開始 |
| Drive Impact後 | 70%から開始 |
| Drive Rush Cancel | 残りコンボに×0.85 |
| 一部の始動技 | 80%または70%から開始 |

### Super Artの最低保証

| レベル | 最低スケーリング |
|-------|----------------|
| SA1 | 30% |
| SA2 | 40% |
| SA3/CA | 50% |

**実践的示唆**: 長いコンボの締めにSA3を使うと、50%保証により効率的なダメージを得られる。

---

## 6. カウンターヒット

### Counter Hit vs Punish Counter

| 種類 | 発生条件 | ダメージ補正 | 追加有利F |
|-----|---------|------------|----------|
| Counter Hit | 相手の技の発生中にヒット | +20% | +2F |
| Punish Counter | 相手の技の後隙中にヒット | +20%（投げは+70%） | +4F |

**Punish Counterの特殊効果:**
- Drive Impactがクラッシュ（壁から離れていてもクランプル）
- 投げは+70%ダメージ（通常投げでも大ダメージ）
- Drive Parry中に攻撃を受けるとPunish Counter扱い

---

## 7. コーナー（画面端）の重要性

コーナーは攻め側に大きなアドバンテージを与える。

### コーナーの利点

| 項目 | 効果 |
|-----|-----|
| Wall Splat | DIがヒット/ガード問わずスタン誘発 |
| バーンアウト+DI | 確定スタン |
| 投げループ | 多くのキャラで投げ後に再投げ確定 |
| 逃げ場なし | バックジャンプ・後退が制限 |

### フレーム有利

| 状況 | 有利F |
|-----|------|
| DI Wall Splat (ヒット) | +65F |
| DI Wall Splat (ガード) | +72F |
| 通常DI (ヒット) | +35F |
| 通常DI (ガード) | -3F |

---

## 8. 起き攻め (Okizeme)

ダウンを奪った後の攻防。GTOソルバーの主要な対象領域。

### 攻め側の選択肢

| 選択肢 | 説明 | リスク/リターン |
|-------|-----|---------------|
| 重ね技 (Meaty) | 起き上がりに攻撃を重ねる | 無敵技に負ける可能性 |
| 投げ | ガードを崩す | 暴れに負ける可能性 |
| 様子見 | 無敵技を警戒 | ダメージチャンスを逃す |

### 守り側の選択肢

| 選択肢 | 説明 | 使用頻度の目安 |
|-------|-----|---------------|
| ガード | 最も安全 | 約90% |
| 遅らせグラップ | ガード後に投げ抜け | 投げ読み時 |
| 無敵技 | リバーサル | 読み勝ち必須 |
| ジャンプ | 投げ無敵 | コマンド投げ読み |
| バックライズ | 距離を取る | 安全策 |

### じゃんけん構造

```
重ね技 > ガード > 投げ > 重ね技（ループ）
無敵技 > 重ね技 > 様子見 > 無敵技（ループ）
```

---

## 9. 報酬計算への示唆

### 9.1 リソース価値の評価

| リソース | 価値の考慮点 |
|---------|------------|
| ドライブゲージ | 攻守両方に使えるため非常に重要。バーンアウト回避の価値も含む |
| SAゲージ | 最低ダメージ保証があるためコンボの締めに重要 |
| 体力 | 残り体力によってCritical Art解禁など状況が変化 |

### 9.2 ポジションの価値

| 位置 | 評価 |
|-----|-----|
| コーナー支配 | 攻め側に大きなアドバンテージ |
| 中央 | ニュートラル（互角） |
| コーナー追い詰められ | 防御側に大きなディスアドバンテージ |

### 9.3 ターン計算の考慮

- ダメージスケーリングを考慮した実効ダメージ
- リソース状況による確定ダメージの変動
- バーンアウト時の追加ダメージリスク
- コーナー状況での追加リスク/リターン

### 9.4 現在の実装との対応

| ゲーム概念 | 現在のNomari実装 |
|----------|-----------------|
| 体力 | `PLAYER_HEALTH`, `OPPONENT_HEALTH` |
| ドライブゲージ | `PLAYER_OD_GAUGE`, `OPPONENT_OD_GAUGE` |
| SAゲージ | `PLAYER_SA_GAUGE`, `OPPONENT_SA_GAUGE` |
| コーナー | `CornerState` enum |
| バーンアウト | 未実装（検討対象） |

---

## 参考ソース

- [Street Fighter 6 Drive System Explained - GameRant](https://gamerant.com/street-fighter-6-drive-system-explained-what-is-drive-gauge-how-to-use-burnout/)
- [Understanding SF6's Drive System - DaFeetLee](https://dafeetlee.com/2022/10/11/understanding-street-fighter-6s-drive-system/)
- [SF6 Health Values - eXputer](https://exputer.com/guides/sf6-health-values/)
- [Damage Scaling - Street Fighter Wiki](https://streetfighter.fandom.com/wiki/Damage_Scaling)
- [Counter Hit - Street Fighter Wiki](https://streetfighter.fandom.com/wiki/Counter_Hit)
- [Wake-up Game - Street Fighter Wiki](https://streetfighter.fandom.com/wiki/Wake-up_game)
- [Drive System - SF6Combo](https://sf6combo.kagewebsite.com/page/drive-drive-system)
- [Punish Counter - Infil's Glossary](https://glossary.infil.net/?t=Punish+Counter)
